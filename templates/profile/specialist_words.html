{% load static %}
<!doctype html>
<html lang="uk">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–ü–∞–∑–ª–∏ —Å–ª—ñ–≤ ‚Äî –ü—Ä–æ—Ñ—ñ–ª—å —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∞</title>
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/specialist.css' %}">
</head>

<body>
    <div class="shell">
        {% include 'includes/specialist_sidebar.html' with active='words' %}

        <main class="main">
            <header class="top">
                <div class="top__left"></div>
                <div class="top__right">
                    <div class="chip chip--user">
                        <span class="chip__avatar" aria-hidden="true">üë©‚Äçüè´</span>
                        <span class="chip__text">{{ username }}</span>
                    </div>
                </div>
            </header>

            <section class="content">
                <div class="page-title">
                    <h1 class="page-title__h">–ü–∞–∑–ª–∏ —Å–ª—ñ–≤: –º–æ—ó —Å–ª–æ–≤–∞</h1>
                </div>

                <section class="card card--full">
                    <div class="card__head">
                        <h2 class="card__title">–î–æ–¥–∞—Ç–∏ —Å–ª–æ–≤–æ</h2>
                    </div>

                    <form method="post" action="{% url 'specialist_words' %}" class="chart-filters"
                        style="gap: 10px; flex-wrap: wrap;">
                        {% csrf_token %}

                        <input class="chart-filters__control" name="word" maxlength="24" placeholder="–°–ª–æ–≤–æ (–ö–Ü–¢)"
                            value="{{ form.word.value|default:'' }}" required>
                        <input class="chart-filters__control" name="hint" maxlength="200"
                            placeholder="–ü—ñ–¥–∫–∞–∑–∫–∞ (–Ω–µ–æ–±–æ–≤ º—è–∑–∫–æ–≤–æ)" value="{{ form.hint.value|default:'' }}">
                        <input class="chart-filters__control" name="emoji" maxlength="8"
                            placeholder="–ï–º–æ–¥–∑—ñ (–Ω–µ–æ–±–æ–≤ º—è–∑–∫–æ–≤–æ)" value="{{ form.emoji.value|default:'' }}">

                        <label class="chart-filters__control"
                            style="display:flex; align-items:center; gap:8px; padding: 10px 12px;">
                            <input type="checkbox" name="is_active" value="true" {% if form.is_active.value or
                                form.is_active.value is None %}checked{% endif %}>
                            <span>–ê–∫—Ç–∏–≤–Ω–µ</span>
                        </label>

                        <button class="chart-filters__btn" type="submit">–î–æ–¥–∞—Ç–∏</button>
                    </form>

                    {% if form.errors %}
                    <div class="form-errors" role="alert" style="margin-top: 12px;">
                        {{ form.errors }}
                    </div>
                    {% endif %}

                    <div style="margin-top: 10px; opacity: .8;">
                        –ü–æ—Ä–∞–¥–∞: –≤–≤–æ–¥—å—Ç–µ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏, –±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤. –ú–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–±–∏–º–æ —Å–ª–æ–≤–æ –í–ï–õ–ò–ö–ò–ú–ò
                        –ª—ñ—Ç–µ—Ä–∞–º–∏.
                    </div>
                </section>

                <section class="card card--full" style="margin-top: 18px;">
                    <div class="card__head">
                        <h2 class="card__title">–°–ø–∏—Å–æ–∫ —Å–ª—ñ–≤</h2>
                        <div class="card__meta">–¶—ñ —Å–ª–æ–≤–∞ –±—É–¥—É—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ñ –¥—ñ—Ç—è–º —É ¬´–ü–∞–∑–ª–∏ —Å–ª—ñ–≤¬ª.</div>
                    </div>

                    {% if words %}
                    <div class="table" role="table" aria-label="–°–ª–æ–≤–∞">
                        <div class="table__row table__row--head" role="row">
                            <div class="table__cell" role="columnheader">–°–ª–æ–≤–æ</div>
                            <div class="table__cell" role="columnheader">–ü—ñ–¥–∫–∞–∑–∫–∞</div>
                            <div class="table__cell" role="columnheader">–ï–º–æ–¥–∑—ñ</div>
                            <div class="table__cell" role="columnheader">–°—Ç–∞—Ç—É—Å</div>
                            <div class="table__cell" role="columnheader"></div>
                        </div>

                        {% for w in words %}
                        <div class="table__row" role="row">
                            <div class="table__cell" role="cell" style="font-weight: 900;">{{ w.word }}</div>
                            <div class="table__cell" role="cell">{{ w.hint|default:'‚Äî' }}</div>
                            <div class="table__cell" role="cell">{{ w.emoji|default:'‚Äî' }}</div>
                            <div class="table__cell" role="cell">
                                {% if w.is_active %}
                                <span class="badge badge--green">–ê–∫—Ç–∏–≤–Ω–µ</span>
                                {% else %}
                                <span class="badge badge--locked">–í–∏–º–∫–Ω–µ–Ω–æ</span>
                                {% endif %}
                            </div>
                            <div class="table__cell" role="cell">
                                <form method="post" action="{% url 'specialist_word_delete' w.id %}" style="margin:0;">
                                    {% csrf_token %}
                                    <input type="hidden" name="next" value="{% url 'specialist_words' %}">
                                    <button class="pill" type="submit"
                                        onclick="return confirm('–í–∏–¥–∞–ª–∏—Ç–∏ —Å–ª–æ–≤–æ ¬´{{ w.word|escapejs }}¬ª?');">üóë
                                        –í–∏–¥–∞–ª–∏—Ç–∏</button>
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    {% else %}
                    <div class="empty">–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î —Å–ª—ñ–≤. –î–æ–¥–∞–π—Ç–µ –ø–µ—Ä—à–µ —Å–ª–æ–≤–æ –≤–∏—â–µ.</div>
                    {% endif %}
                </section>
            </section>
        </main>
    </div>
</body>

</html>