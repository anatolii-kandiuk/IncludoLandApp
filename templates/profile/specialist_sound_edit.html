{% load static %}
<!doctype html>
<html lang="uk">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∑–≤—É–∫ ‚Äî –ü—Ä–æ—Ñ—ñ–ª—å —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∞</title>
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/specialist.css' %}">
    <link rel="stylesheet" href="{% static 'css/specialist_sounds.css' %}">
    <script src="{% static 'js/specialist_sounds.js' %}" defer></script>
</head>

<body>
    {% include 'includes/header.html' %}
    <div class="shell">
        <aside class="sidebar" aria-label="–ù–∞–≤—ñ–≥–∞—Ü—ñ—è">
            <div class="sidebar__brand">
                <div class="brand__mark" aria-hidden="true">
                    <svg viewBox="0 0 48 48" role="img" focusable="false">
                        <path d="M8 12c8 0 12 4 16 8 4-4 8-8 16-8v24c-8 0-12 4-16 8-4-4-8-8-16-8V12z" fill="#ffffff" />
                        <path d="M8 12c8 0 12 4 16 8 4-4 8-8 16-8" fill="none" stroke="#0f7aa5" stroke-width="3"
                            stroke-linecap="round" />
                    </svg>
                </div>
                <div class="brand__text"><span class="brand__name">IncludoLand</span></div>
            </div>

            <nav class="nav">
                <div class="nav__section" aria-label="–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞">
                    <div class="nav__title">–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞</div>
                    <a class="nav__item nav__item--active" href="{% url 'specialist_sounds' %}">
                        <span class="nav__icon" aria-hidden="true">üîä</span>
                        <span class="nav__label">–ó–≤—É–∫–∏</span>
                    </a>
                </div>

                <div class="nav__spacer"></div>

                <a class="nav__item nav__item--logout" href="{% url 'logout' %}">
                    <span class="nav__icon" aria-hidden="true">‚éã</span>
                    <span class="nav__label">–í–∏—Ö—ñ–¥</span>
                </a>
            </nav>
        </aside>

        <main class="main">
            <header class="top">
                <div class="top__left"></div>
                <div class="top__right">
                    <div class="chip chip--user">
                        <span class="chip__avatar" aria-hidden="true">üë©‚Äçüè´</span>
                        <span class="chip__text">{{ username }}</span>
                    </div>
                    <div class="chip">
                        <span class="chip__icon" aria-hidden="true">‚òÖ</span>
                        <span class="chip__text">{{ coins }}</span>
                    </div>
                </div>
            </header>

            <section class="content">
                <div class="page-title">
                    <h1 class="page-title__h">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É</h1>
                </div>

                <div class="sound-builder">
                    <form class="sound-form" method="post" enctype="multipart/form-data">
                        {% csrf_token %}

                        <div class="current-files" aria-label="–ü–æ—Ç–æ—á–Ω—ñ —Ñ–∞–π–ª–∏">
                            <div class="current-files__row">
                                <div class="current-files__label">–ü–æ—Ç–æ—á–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:</div>
                                <div class="current-files__img" style="background-image: url('{{ card.image.url }}');">
                                </div>
                            </div>
                            <div class="current-files__row">
                                <div class="current-files__label">–ü–æ—Ç–æ—á–Ω–∏–π –∑–≤—É–∫:</div>
                                <audio controls src="{{ card.audio.url }}"></audio>
                            </div>
                        </div>

                        <label class="drop" for="id_image">
                            <input class="drop__input" id="id_image" name="image" type="file" accept="image/*">
                            <span class="drop__box">
                                <span class="drop__icon" aria-hidden="true">üñºÔ∏è</span>
                                <span class="drop__text">–ó–∞–º—ñ–Ω–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–Ω–µ –æ–±–æ–≤ º—è–∑–∫–æ–≤–æ)</span>
                            </span>
                        </label>

                        <input class="sound-input" id="id_title" name="title" type="text" maxlength="80"
                            placeholder="–ü—ñ–¥–ø–∏—Å –¥–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏" value="{{ card.title }}" required>

                        <label class="audio" for="id_audio">
                            <input class="audio__input" id="id_audio" name="audio" type="file" accept="audio/*">
                            <span class="audio__btn">–ó–∞–º—ñ–Ω–∏—Ç–∏ –∞—É–¥—ñ–æ—Ñ–∞–π–ª (–Ω–µ –æ–±–æ–≤ º—è–∑–∫–æ–≤–æ)</span>
                        </label>

                        <button class="save" type="submit">–ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏</button>

                        <a class="save save--ghost" href="{% url 'specialist_sounds' %}">–°–∫–∞—Å—É–≤–∞—Ç–∏</a>

                        {% if form.errors %}
                        <div class="form-errors" role="alert">{{ form.errors }}</div>
                        {% endif %}
                    </form>

                    <aside class="preview" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥">
                        <div class="preview__title">–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥</div>
                        <div class="preview-card" id="preview-card">
                            <div class="preview-card__img" id="preview-img"
                                style="background-image: url('{{ card.image.url }}');"></div>
                            <div class="preview-card__label" id="preview-label">{{ card.title }}</div>
                            <button class="preview-card__play" id="preview-play" type="button"
                                aria-label="–í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏">‚ñ∂</button>
                            <audio id="preview-audio" src="{{ card.audio.url }}"></audio>
                        </div>
                    </aside>
                </div>
            </section>
        </main>
    </div>
</body>

</html>