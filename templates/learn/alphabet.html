{% load static %}
<!doctype html>
<html lang="uk">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Алфавіт — IncludoLand</title>
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/learn.css' %}">
    <script src="{% static 'js/print.js' %}" defer></script>
    <script src="{% static 'js/learn_alphabet.js' %}" defer></script>
</head>

<body>
    {% include 'includes/header.html' %}

    <main class="learn-page" id="alphabet-root">
        {{ letters|json_script:"alphabet-data" }}

        <div class="learn-head">
            <h1 class="learn-title" data-braille>Алфавіт</h1>
            <div class="learn-toolbar">
                <label class="learn-toggle">
                    <input id="braille-toggle" type="checkbox" />
                    <span data-braille>Брайль</span>
                </label>
                <a class="learn-btn" href="{% url 'learn_alphabet_print' %}" data-braille>Друк (A4)</a>
            </div>
        </div>

        <section class="learn-card">
            <div class="flip" aria-label="Перегляд букв">
                <button class="learn-btn" type="button" id="alpha-prev" aria-label="Попередня">←</button>
                <div class="flip-main">
                    <div class="flip-big" id="alpha-big" data-braille>
                        {% if letters %}{{ letters.0.upper }} {{ letters.0.lower }}{% endif %}
                    </div>
                    <div class="flip-sub" id="alpha-sub" data-braille>
                        {% if letters %}Буква 1 з {{ letters|length }}{% endif %}
                    </div>
                </div>
                <button class="learn-btn" type="button" id="alpha-next" aria-label="Наступна">→</button>
            </div>
        </section>

        <section class="learn-card" aria-label="Весь алфавіт">
            <div class="grid grid--glyphs" aria-label="Алфавіт">
                {% for l in letters %}
                <div class="grid-item grid-item--glyph">
                    <div class="glyph-stack">
                        <div class="glyph-upper" data-braille>{{ l.upper }}</div>
                        <div class="glyph-lower" data-braille>{{ l.lower }}</div>
                        <div class="glyph-lines" aria-hidden="true">
                            <div class="glyph-line"></div>
                            <div class="glyph-line"></div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </main>
</body>

</html>
{% comment %}
{% load static %}
<!doctype html>
<html lang="uk">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Алфавіт — IncludoLand</title>
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <link rel="stylesheet" href="{% static 'css/learn.css' %}">
    <script src="{% static 'js/print.js' %}" defer></script>
    <script src="{% static 'js/learn_alphabet.js' %}" defer></script>
</head>

<body>
    {% include 'includes/header.html' %}

    <main class="learn-page" id="alphabet-root">
        {{ letters|json_script:"alphabet-data" }}

        <div class="learn-head">
            <h1 class="learn-title" data-braille>Алфавіт</h1>
            <div class="learn-toolbar screen-only">
                <label class="learn-toggle">
                    <input id="braille-toggle" type="checkbox" />
                    <span data-braille>Брайль</span>
                </label>
                <button class="learn-btn" type="button" id="print-now" data-braille>Друкувати</button>
            </div>
        </div>

        <section class="learn-card screen-only">
            <div class="flip" aria-label="Перегляд букв">
                <button class="learn-btn" type="button" id="alpha-prev" aria-label="Попередня">←</button>
                <div class="flip-main">
                    <div class="flip-big" id="alpha-big" data-braille>
                        {% if letters %}{{ letters.0.upper }} {{ letters.0.lower }}{% endif %}
                    </div>
                    <div class="flip-sub" id="alpha-sub" data-braille>
                        {% if letters %}Буква 1 з {{ letters|length }}{% endif %}
                    </div>
                </div>
                <button class="learn-btn" type="button" id="alpha-next" aria-label="Наступна">→</button>
            </div>
        </section>

        <section class="learn-card" aria-label="Весь алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters %}
                <div class="grid-item">
                    <div class="grid-item__big" data-braille>{{ l.upper }} {{ l.lower }}</div>
                </div>
                {% endfor %}
            </div>
        </section>
    </main>
</body>

</html>
{% endcomment %}
{% load static %}
<!doctype html>
<html lang="uk">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Алфавіт — IncludoLand</title>
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <link rel="stylesheet" href="{% static 'css/learn.css' %}">
    <script src="{% static 'js/print.js' %}" defer></script>
    <script src="{% static 'js/learn_alphabet.js' %}" defer></script>
</head>

<body>
    {% include 'includes/header.html' %}

    <main class="learn-page" id="alphabet-root" data-letters="{{ letters_json|escapejs }}">
        <div class="learn-head">
            <h1 class="learn-title" data-braille>Алфавіт</h1>
            <div class="learn-toolbar screen-only">
                <label class="learn-toggle">
                    <input id="braille-toggle" type="checkbox" />
                    <span data-braille>Брайль</span>
                </label>
                <button class="learn-btn" type="button" id="print-now" data-braille>Друкувати</button>
            </div>
        </div>

        <section class="learn-card screen-only">
            <div class="flip" aria-label="Перегляд букв">
                <button class="learn-btn" type="button" id="alpha-prev" aria-label="Попередня">←</button>
                <div class="flip-main">
                    <div class="flip-big" id="alpha-big" data-braille></div>
                    <div class="flip-sub" id="alpha-sub" data-braille></div>
                </div>
                <button class="learn-btn" type="button" id="alpha-next" aria-label="Наступна">→</button>
            </div>
        </section>

        <section class="learn-card" aria-label="Весь алфавіт">
            <div class="grid" id="alphabet-grid"></div>
        </section>
    </main>

    <script>
        (function () {
            const root = document.getElementById('alphabet-root');
            const grid = document.getElementById('alphabet-grid');
            if (!root || !grid) return;
            let letters = [];
            try { letters = JSON.parse(root.dataset.letters || '[]'); } catch { letters = []; }

            grid.innerHTML = '';
            letters.forEach((it) => {
                const d = document.createElement('div');
                d.className = 'grid-item';
                d.innerHTML = `<div class="grid-item__big" data-braille>${it.upper} ${it.lower}</div>`;
                grid.appendChild(d);
            });
        })();
    </script>
</body>

</html>
{% load static %}
<!doctype html>
<html lang="uk">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Алфавіт — IncludoLand</title>
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <link rel="stylesheet" href="{% static 'css/learn.css' %}">
    <script src="{% static 'js/print.js' %}" defer></script>
    <script src="{% static 'js/learn_alphabet.js' %}" defer></script>
</head>

<body>
    {% include 'includes/header.html' %}

    <main class="learn-page" id="alphabet-root" data-letters='{{ letters_json|safe }}'>
        <div class="learn-head">
            <h1 class="learn-title" data-braille>Алфавіт</h1>
            <div class="learn-toolbar screen-only">
                <label class="learn-toggle">
                    <input id="braille-toggle" type="checkbox" />
                    <span data-braille>Брайль</span>
                </label>
                <button class="learn-btn" type="button" id="print-now" data-braille>Друкувати</button>
            </div>
        </div>

        <section class="learn-card screen-only">
            <div class="flip" aria-label="Перегляд букв">
                <button class="learn-btn" type="button" id="alpha-prev" aria-label="Попередня">←</button>
                <div class="flip-main">
                    <div class="flip-big" id="alpha-big" data-braille></div>
                    <div class="flip-sub" id="alpha-sub" data-braille></div>
                </div>
                <button class="learn-btn" type="button" id="alpha-next" aria-label="Наступна">→</button>
            </div>
        </section>

        <section class="learn-card print-only" aria-label="Весь алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for _ in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Весь алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for it in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт (таблиця)">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card print-only" aria-label="Алфавіт (для друку)">
            <div class="grid" aria-label="Алфавіт">
                {% for it in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for it in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for it in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <!-- Actual grid rendered server-side for both screen + print -->
        <section class="learn-card" aria-label="Весь алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for l in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт (весь)">
            <div class="grid" aria-label="Алфавіт">
                {% for item in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <section class="learn-card" aria-label="Алфавіт">
            <div class="grid" aria-label="Алфавіт">
                {% for it in letters_json|safe %}{% endfor %}
            </div>
        </section>

        <!-- render from JSON is not possible in Django template; use a hidden data list for print -->
        <section class="learn-card print-only" aria-label="Алфавіт">
            <div class="grid" id="alphabet-grid-print"></div>
        </section>

        <section class="learn-card screen-only" aria-label="Алфавіт (весь)">
            <div class="grid" id="alphabet-grid"></div>
        </section>

    </main>

    <script>
        // Render the full grid (screen + print) from JSON.
        (function () {
            const root = document.getElementById('alphabet-root');
            const grid = document.getElementById('alphabet-grid');
            const gridPrint = document.getElementById('alphabet-grid-print');
            if (!root || (!grid && !gridPrint)) return;
            let letters = [];
            try { letters = JSON.parse(root.dataset.letters || '[]'); } catch { letters = []; }
            const renderTo = (el) => {
                if (!el) return;
                el.innerHTML = '';
                letters.forEach((it) => {
                    const d = document.createElement('div');
                    d.className = 'grid-item';
                    d.innerHTML = `<div class="grid-item__big" data-braille>${it.upper} ${it.lower}</div>`;
                    el.appendChild(d);
                });
            };
            renderTo(grid);
            renderTo(gridPrint);
        })();
    </script>
</body>

</html>