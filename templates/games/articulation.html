{% load static %}
<!doctype html>
<html lang="uk">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–ê—Ä—Ç–∏–∫—É–ª—è—Ü—ñ–π–Ω–∞ –≥—ñ–º–Ω–∞—Å—Ç–∏–∫–∞ ‚Äî IncludoLand</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/articulation.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
</head>

<body>
    {% include 'includes/header.html' %}
    <main class="page page--articulation">
        <header class="art-header">
            <a class="pill pill--ghost" href="{% url 'home' %}#games" aria-label="–ù–∞–∑–∞–¥">
                <span class="pill__ico" aria-hidden="true">‚Üê</span>
                <span>–ù–∞–∑–∞–¥</span>
            </a>
            <h1 class="art-title">–ê—Ä—Ç–∏–∫—É–ª—è—Ü—ñ–π–Ω–∞ –≥—ñ–º–Ω–∞—Å—Ç–∏–∫–∞</h1>
            {% if sounds %}
            <form class="art-filter" method="get">
                <label class="art-filter__label" for="art-sound">–§—ñ–ª—å—Ç—Ä –ø–æ –∑–≤—É–∫—É</label>
                <select class="art-filter__select" id="art-sound" name="sound" onchange="this.form.submit()">
                    <option value="" {% if not selected_sound %}selected{% endif %}>–í—Å—ñ –∑–≤—É–∫–∏</option>
                    {% for sound in sounds %}
                    <option value="{{ sound }}" {% if selected_sound==sound %}selected{% endif %}>{{ sound }}</option>
                    {% endfor %}
                </select>
            </form>
            {% endif %}
        </header>

        {% if articulation_cards %}
        {{ articulation_cards|json_script:"articulation-cards-data" }}
        {% endif %}

        <section class="art-shell">
            {% csrf_token %}
            <aside class="art-nav" aria-label="–°–ø–∏—Å–æ–∫ –≤–ø—Ä–∞–≤">
                {% if articulation_cards %}
                {% for c in articulation_cards %}
                <button class="art-nav__item art-nav__item--{% cycle 'blue' 'green' 'orange' 'purple' %}" type="button"
                    data-card-id="{{ c.id }}" data-title="{{ c.title|escape }}"
                    data-instruction="{{ c.instruction|escape }}" data-image-url="{{ c.image_url }}">
                    <span class="art-nav__icon" aria-hidden="true">‚óè</span>
                    <span class="art-nav__label">{{ c.title }}</span>
                </button>
                {% endfor %}
                {% else %}
                <div class="art-empty">–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –≤–ø—Ä–∞–≤. –°–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç –º–∞—î –¥–æ–¥–∞—Ç–∏ –∫–∞—Ä—Ç–∫–∏.</div>
                {% endif %}
            </aside>

            <section class="art-stage" aria-label="–í–ø—Ä–∞–≤–∞">
                <div class="art-card">
                    <div class="art-card__media">
                        <div class="art-card__image" id="art-image" role="img" aria-label="–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–ø—Ä–∞–≤–∏">
                            <span class="art-card__placeholder">üôÇ</span>
                        </div>
                    </div>
                    <div class="art-card__body">
                        <div class="art-card__title" id="art-title">–û–±–µ—Ä–∏ –≤–ø—Ä–∞–≤—É</div>
                        <div class="art-card__text" id="art-instruction">–ù–∞—Ç–∏—Å–Ω–∏ –Ω–∞ –≤–ø—Ä–∞–≤—É –∑—ñ —Å–ø–∏—Å–∫—É –ª—ñ–≤–æ—Ä—É—á.</div>
                        <div class="art-card__meta">
                            <span>–í–∏–∫–æ–Ω–∞–Ω–æ:</span>
                            <strong id="art-count">0</strong>
                        </div>
                        <div class="art-card__actions">
                            <button class="art-btn art-btn--primary" id="art-start" type="button">–ü–æ—á–∞—Ç–∏ –≤–ø—Ä–∞–≤—É</button>
                            <button class="art-btn art-btn--ghost" id="art-done" type="button" hidden>–ó–∞–≤–µ—Ä—à–∏—Ç–∏</button>
                            <button class="art-btn art-btn--ghost" id="art-next-image" type="button" hidden>–Ü–Ω—à–∞
                                –∫–∞—Ä—Ç–∏–Ω–∫–∞</button>
                        </div>
                        <div class="art-card__msg" id="art-msg" role="status" aria-live="polite">–û–±–µ—Ä—ñ—Ç—å –≤–ø—Ä–∞–≤—É, —â–æ–±
                            –ø–æ—á–∞—Ç–∏.</div>
                    </div>
                </div>
            </section>
        </section>

    </main>

    <script src="{% static 'js/articulation.js' %}" defer></script>
    {% include 'includes/footer.html' %}
</body>

</html>